(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4287],{4411:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>A});var r=a(95155),n=a(12115),i=a(40387),s=a(2369),c=a(63090),o=a(70305),l=a(13877),d=a(74264),u=a(60688),h=a(67661),p=a(22797),g=a(92364),x=a(44634),f=a(96778),m=a(67623),j=a(17998),y=a(58380),k=a(41970),w=a(2186),S=a(89712),b=a(26953),v=a(47522),T=a(74948);function A(){let[e,t]=(0,n.useState)(""),[a,A]=(0,n.useState)({name:"",email:"",country:"",education:"",bio:"",techStack:[]}),[C,E]=(0,n.useState)(!1),[z,P]=(0,n.useState)(""),[G,R]=(0,n.useState)(""),[I,D]=(0,n.useState)(""),[_,B]=(0,n.useState)(!1),[O,H]=(0,n.useState)([]),[N,L]=(0,n.useState)(!1),[F,U]=(0,n.useState)(!1),[J,M]=(0,n.useState)(!0);(0,n.useEffect)(()=>{(async()=>{try{let e=await fetch("/data/profile.json");if(!e.ok)throw Error("Failed to fetch profile data");let t=await e.json();A(t)}catch(e){R("Failed to load profile data.")}finally{M(!1)}})()},[]),(0,n.useEffect)(()=>{let e=localStorage.getItem("github_token");e&&(t(e),U(!0))},[]),(0,n.useEffect)(()=>{F&&e?localStorage.setItem("github_token",e):F||localStorage.removeItem("github_token")},[e,F]);let W=async t=>{t.preventDefault(),E(!0),R(""),P("");try{let t=await (0,T.Mx)(e,a);P(t)}catch(e){R(e instanceof Error?e.message:"An error occurred")}finally{E(!1)}},K=(e,t)=>{A(a=>({...a,[e]:t}))},V=e=>{e.trim()&&!a.techStack.includes(e.trim())&&A(t=>({...t,techStack:[...t.techStack,e.trim()]})),D("")},q=async()=>{if(!e)return void alert("Please enter your GitHub token.");L(!0);try{let t=new T.Ed("0010capacity",e),a=await t.analyzeTechStack(),r=t.getFormattedTechStack(a);H(r),B(!0)}catch(e){alert("Failed to detect tech stack: "+(e instanceof Error?e.message:"Unknown error"))}finally{L(!1)}};return J?(0,r.jsx)(i.Center,{mih:"100vh",children:(0,r.jsxs)(s.Stack,{align:"center",gap:"md",children:[(0,r.jsx)(c.Loader,{}),(0,r.jsx)(o.Text,{children:"Loading profile data..."})]})}):(0,r.jsx)(l.Container,{size:"sm",py:"xl",children:(0,r.jsxs)(s.Stack,{gap:"lg",children:[(0,r.jsx)(d.Title,{order:1,mb:"md",children:"Edit Profile"}),(0,r.jsx)("form",{onSubmit:W,children:(0,r.jsxs)(s.Stack,{gap:"md",children:[(0,r.jsxs)(s.Stack,{gap:"xs",children:[(0,r.jsx)(o.Text,{fw:500,size:"sm",children:"GitHub Personal Access Token *"}),(0,r.jsx)(u.TextInput,{type:"password",value:e,onChange:e=>t(e.currentTarget.value),placeholder:"ghp_...",disabled:C}),(0,r.jsx)(h.Group,{gap:"xs",children:(0,r.jsx)(p.Checkbox,{checked:F,onChange:e=>U(e.currentTarget.checked),label:"Remember token (save in browser)"})}),(0,r.jsx)(o.Text,{size:"xs",c:"dimmed",children:"Please enter a token with repo permissions."})]}),(0,r.jsxs)(s.Stack,{gap:"xs",children:[(0,r.jsx)(o.Text,{fw:500,size:"sm",children:"Name *"}),(0,r.jsx)(u.TextInput,{value:a.name,onChange:e=>K("name",e.currentTarget.value),disabled:C})]}),(0,r.jsxs)(s.Stack,{gap:"xs",children:[(0,r.jsx)(o.Text,{fw:500,size:"sm",children:"Email *"}),(0,r.jsx)(u.TextInput,{type:"email",value:a.email,onChange:e=>K("email",e.currentTarget.value),disabled:C})]}),(0,r.jsxs)(s.Stack,{gap:"xs",children:[(0,r.jsx)(o.Text,{fw:500,size:"sm",children:"Country *"}),(0,r.jsx)(u.TextInput,{value:a.country,onChange:e=>K("country",e.currentTarget.value),disabled:C})]}),(0,r.jsxs)(s.Stack,{gap:"xs",children:[(0,r.jsx)(o.Text,{fw:500,size:"sm",children:"Education *"}),(0,r.jsx)(u.TextInput,{value:a.education,onChange:e=>K("education",e.currentTarget.value),disabled:C})]}),(0,r.jsxs)(s.Stack,{gap:"xs",children:[(0,r.jsx)(o.Text,{fw:500,size:"sm",children:"Bio *"}),(0,r.jsx)(g.Textarea,{value:a.bio,onChange:e=>K("bio",e.currentTarget.value),placeholder:"Enter your bio...",rows:4,disabled:C})]}),(0,r.jsxs)(x.Card,{withBorder:!0,children:[(0,r.jsx)(x.Card.Section,{withBorder:!0,inheritPadding:!0,py:"md",children:(0,r.jsxs)(h.Group,{justify:"space-between",align:"center",children:[(0,r.jsx)(d.Title,{order:3,size:"h4",children:"Tech Stack"}),(0,r.jsx)(f.Button,{size:"xs",onClick:q,disabled:N||!e||C,loading:N,variant:"light",children:N?"Detecting...":"Auto-detect from GitHub"})]})}),(0,r.jsx)(x.Card.Section,{inheritPadding:!0,py:"md",children:(0,r.jsxs)(s.Stack,{gap:"md",children:[(0,r.jsx)(m.Box,{children:a.techStack.length>0?(0,r.jsx)(h.Group,{gap:"xs",children:a.techStack.map(e=>(0,r.jsx)(j.Badge,{variant:"light",rightSection:(0,r.jsx)(y.ActionIcon,{size:"xs",color:"blue",radius:"xl",variant:"transparent",onClick:()=>{A(t=>({...t,techStack:t.techStack.filter(t=>t!==e)}))},children:(0,r.jsx)(w.A,{size:10})}),children:e},e))}):(0,r.jsx)(o.Text,{size:"sm",c:"dimmed",children:"No tech stack registered."})}),(0,r.jsxs)(h.Group,{gap:"xs",children:[(0,r.jsx)(u.TextInput,{style:{flex:1},value:I,onChange:e=>D(e.currentTarget.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),V(I))},placeholder:"Enter tech stack (e.g., React, Python, Node.js)",disabled:C}),(0,r.jsx)(f.Button,{size:"sm",onClick:()=>V(I),disabled:!I.trim()||C,leftSection:(0,r.jsx)(S.A,{size:14}),children:"Add"})]}),_&&O.length>0&&(0,r.jsx)(x.Card,{withBorder:!0,p:"md",bg:"var(--mantine-color-green-9)",children:(0,r.jsxs)(s.Stack,{gap:"md",children:[(0,r.jsxs)(h.Group,{justify:"space-between",align:"center",children:[(0,r.jsx)(d.Title,{order:4,size:"h5",c:"green.2",children:"Technologies detected from GitHub"}),(0,r.jsxs)(h.Group,{gap:"xs",children:[(0,r.jsx)(f.Button,{size:"xs",onClick:()=>{let e=O.filter(e=>!a.techStack.includes(e));A(t=>({...t,techStack:[...t.techStack,...e]}))},variant:"light",color:"green",leftSection:(0,r.jsx)(S.A,{size:14}),children:"Add All"}),(0,r.jsx)(y.ActionIcon,{size:"sm",variant:"light",color:"green",onClick:()=>B(!1),children:(0,r.jsx)(w.A,{size:14})})]})]}),(0,r.jsx)(h.Group,{gap:"xs",children:O.map(e=>(0,r.jsxs)(f.Button,{size:"xs",onClick:()=>{!a.techStack.includes(e)&&A(t=>({...t,techStack:[...t.techStack,e]}))},disabled:a.techStack.includes(e),variant:"light",color:"green",children:["+ ",e]},e))})]})}),!e&&(0,r.jsx)(k.Alert,{color:"yellow",title:"GitHub Token Required",children:"You need to enter a GitHub token to use the auto-detection feature."})]})})]}),G&&(0,r.jsx)(k.Alert,{color:"red",title:"Error",children:G}),z&&(0,r.jsx)(k.Alert,{color:"green",title:"Success",children:(0,r.jsxs)(h.Group,{justify:"space-between",children:[(0,r.jsx)(o.Text,{children:"Profile updated successfully!"}),(0,r.jsx)(f.Button,{component:"a",href:z,target:"_blank",rel:"noopener noreferrer",size:"xs",variant:"light",rightSection:(0,r.jsx)(b.A,{size:14}),children:"View PR"})]})}),(0,r.jsxs)(h.Group,{justify:"flex-end",gap:"md",pt:"md",children:[(0,r.jsx)(f.Button,{type:"button",variant:"default",onClick:()=>window.history.back(),disabled:C,children:"Cancel"}),(0,r.jsx)(f.Button,{type:"submit",loading:C,disabled:C,leftSection:(0,r.jsx)(v.A,{size:16}),children:"Save"})]})]})})]})})}},36004:(e,t,a)=>{Promise.resolve().then(a.bind(a,4411))},74948:(e,t,a)=>{"use strict";a.d(t,{Ed:()=>n,Mx:()=>l,RT:()=>s,aT:()=>c,lg:()=>o});var r=a(316);class n{async fetchWithAuth(e){let t={Accept:"application/vnd.github.v3+json","User-Agent":"0010capacity.github.io/1.0.0"};this.token&&(t.Authorization="token ".concat(this.token));try{let a=await fetch(e,{headers:t});if(!a.ok){if(await a.text(),403===a.status)throw Error("GitHub API rate limit exceeded. Please provide a valid token or wait before retrying.");if(401===a.status)throw Error("GitHub token is invalid or expired.");if(404===a.status)throw Error("Repository or resource not found.");throw Error("GitHub API error: ".concat(a.status," ").concat(a.statusText))}return a.json()}catch(e){throw e}}async getRepositories(){return await this.fetchWithAuth("https://api.github.com/users/".concat(this.username,"/repos?sort=updated&per_page=100"))}async getRepositoryLanguages(e){return await this.fetchWithAuth(e)}async analyzeTechStack(){let e=await this.getRepositories(),t={},a=new Set,r=new Set;for(let n of e)try{let e=await this.getRepositoryLanguages(n.languages_url);for(let[a,r]of Object.entries(e))t[a]=(t[a]||0)+r;await this.inferTechnologies(n,a,r)}catch(e){}return{languages:Object.entries(t).sort((e,t)=>{let[,a]=e,[,r]=t;return r-a}).reduce((e,t)=>{let[a,r]=t;return e[a]=r,e},{}),frameworks:Array.from(a).sort(),technologies:Array.from(r).sort()}}async inferTechnologies(e,t,a){let r=e.name.toLowerCase(),n=(e.description||"").toLowerCase(),i=e.language;("JavaScript"===i||"TypeScript"===i)&&((r.includes("react")||n.includes("react"))&&t.add("React"),(r.includes("next")||n.includes("next"))&&t.add("Next.js"),(r.includes("vue")||n.includes("vue"))&&t.add("Vue.js"),(r.includes("angular")||n.includes("angular"))&&t.add("Angular"),(r.includes("node")||n.includes("node"))&&a.add("Node.js"),(r.includes("express")||n.includes("express"))&&t.add("Express.js")),"Python"===i&&((r.includes("django")||n.includes("django"))&&t.add("Django"),(r.includes("flask")||n.includes("flask"))&&t.add("Flask"),(r.includes("pytorch")||n.includes("pytorch"))&&t.add("PyTorch"),(r.includes("tensorflow")||n.includes("tensorflow"))&&t.add("TensorFlow"),(n.includes("machine learning")||n.includes("deep learning")||n.includes("ml")||n.includes("dl"))&&a.add("Machine Learning"),(n.includes("reinforcement learning")||n.includes("rl"))&&a.add("Reinforcement Learning")),"C#"===i&&((r.includes("unity")||n.includes("unity"))&&t.add("Unity"),(n.includes("game")||r.includes("game"))&&a.add("Game Development")),("Swift"===i||r.includes("ios"))&&a.add("iOS Development"),("Kotlin"===i||"Java"===i&&(r.includes("android")||n.includes("android")))&&a.add("Android Development"),(r.includes("react-native")||n.includes("react native"))&&(t.add("React Native"),a.add("Mobile Development")),("HTML"===i||"CSS"===i)&&a.add("Web Development"),i&&["JavaScript","TypeScript","Python","Java","C#","C++","Go","Rust","Swift","Kotlin"].includes(i)&&a.add(i)}getFormattedTechStack(e){let t=[],a=Object.keys(e.languages).slice(0,5);t.push(...a),t.push(...e.frameworks);let r=e.technologies.filter(e=>!t.some(t=>t.toLowerCase()===e.toLowerCase()));return t.push(...r),t.slice(0,12)}constructor(e,t){this.username=e,this.token=t}}let i=async(e,t,a,n,i,s)=>{let c=new r.E({auth:e}),o="0010capacity",l="0010capacity.github.io",d="feature/update-".concat(Date.now());try{let e,{data:r}=await c.git.getRef({owner:o,repo:l,ref:"heads/main"}),u=r.object.sha;await c.git.createRef({owner:o,repo:l,ref:"refs/heads/".concat(d),sha:u});try{let{data:a}=await c.repos.getContent({owner:o,repo:l,path:t,ref:"main"});!Array.isArray(a)&&"sha"in a&&(e=a.sha)}catch(e){}let h=btoa(unescape(encodeURIComponent(a))),p={owner:o,repo:l,path:t,message:n,content:h,branch:d};e&&(p.sha=e),await c.repos.createOrUpdateFileContents(p);let{data:g}=await c.pulls.create({owner:o,repo:l,title:i,head:d,base:"main",body:s});return g.html_url}catch(e){if(e instanceof Error){if(e.message.includes("403"))throw Error("GitHub API 접근이 거부되었습니다. 토큰 권한을 확인해주세요. (repo 권한 필요)");else if(e.message.includes("422"))throw Error("파일 업데이트 중 오류가 발생했습니다. 잠시 후 다시 시도해주세요.");else if(e.message.includes("404"))throw Error("레포지토리를 찾을 수 없습니다. 레포지토리 권한을 확인해주세요.");else if(e.message.includes("401"))throw Error("GitHub 토큰이 유효하지 않습니다. 토큰을 다시 확인해주세요.")}throw Error("Failed to create PR. Please check your token and try again.")}},s=async(e,t,a,r)=>{let n="public/data/privacy-policies/".concat(t,"/").concat(a,".md"),s="Add privacy policy for ".concat(t," in ").concat(a),c="Add privacy policy for ".concat(t," in ").concat(a),o='This PR adds a privacy policy for the app "'.concat(t,'" in language "').concat(a,'".');return await i(e,n,r,s,c,o)},c=async(e,t,a,r,n)=>{let s="public/data/apps/".concat(t,".json"),c=JSON.stringify({name:t,description:a,deployments:r,githubRepo:n,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},null,2),o="Add app: ".concat(t),l="Add new app: ".concat(t),d='This PR adds a new app "'.concat(t,'".');return await i(e,s,c,o,l,d)},o=async(e,t,a,r,n)=>{let s="public/data/apps/".concat(t,".json"),c=JSON.stringify({name:t,description:a,deployments:r,githubRepo:n,updatedAt:new Date().toISOString()},null,2),o="Update app: ".concat(t),l="Update app: ".concat(t),d='This PR updates the app "'.concat(t,'".');return await i(e,s,c,o,l,d)},l=async(e,t)=>{let a=JSON.stringify(t,null,2);return await i(e,"public/data/profile.json",a,"Update profile information","Update profile information","This PR updates the profile information.")}}},e=>{e.O(0,[641,6778,4256,6937,5728,5278,8441,1255,7358],()=>e(e.s=36004)),_N_E=e.O()}]);