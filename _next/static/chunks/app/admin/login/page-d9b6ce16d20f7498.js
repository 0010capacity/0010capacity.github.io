(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2116],{20063:(e,t,a)=>{"use strict";var r=a(47260);a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})},30313:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var r=a(12115),n={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};let l=(e,t,a,l)=>{let o=(0,r.forwardRef)((a,o)=>{let{color:i="currentColor",size:s=24,stroke:c=2,title:d,className:p,children:u,...h}=a;return(0,r.createElement)("svg",{ref:o,...n[e],width:s,height:s,className:["tabler-icon","tabler-icon-".concat(t),p].join(" "),..."filled"===e?{fill:i}:{strokeWidth:c,stroke:i},...h},[d&&(0,r.createElement)("title",{key:"svg-title"},d),...l.map(e=>{let[t,a]=e;return(0,r.createElement)(t,a)}),...Array.isArray(u)?u:[u]])});return o.displayName="".concat(a),o}},35127:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>x});var r=a(95155),n=a(12115),l=a(20063),o=a(52619),i=a.n(o),s=a(40387),c=a(63090),d=a(67623),p=a(2369),u=a(70305),h=a(41970),v=a(60688),m=a(96778);let g=(0,a(30313).A)("outline","alert-circle","AlertCircle",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]]);var f=a(37621);function x(){let e=(0,l.useRouter)(),[t,a]=(0,n.useState)(""),[o,x]=(0,n.useState)(""),[S,T]=(0,n.useState)(""),[b,y]=(0,n.useState)(!1),[E,w]=(0,n.useState)(!0);if((0,n.useEffect)(()=>{let t=localStorage.getItem("admin_token"),a=localStorage.getItem("admin_user");t&&a?e.push("/admin/dashboard/"):w(!1)},[e]),E)return(0,r.jsx)(s.Center,{mih:"100vh",children:(0,r.jsx)(c.Loader,{size:"sm"})});let j=async a=>{a.preventDefault(),T(""),y(!0);try{let a=await f.ZQ.login({username:t,password:o});localStorage.setItem("admin_token",a.token),localStorage.setItem("admin_user",JSON.stringify(a.user)),e.push("/admin/dashboard/")}catch(e){T(e instanceof Error?e.message:"로그인에 실패했습니다")}finally{y(!1)}};return(0,r.jsx)(s.Center,{mih:"100vh",px:"md",children:(0,r.jsxs)(d.Box,{w:"100%",maw:400,children:[(0,r.jsx)(p.Stack,{gap:"xl",align:"center",mb:"xl",children:(0,r.jsx)(u.Text,{size:"xl",fw:300,children:"관리자 로그인"})}),(0,r.jsxs)(p.Stack,{component:"form",onSubmit:j,gap:"lg",children:[S&&(0,r.jsx)(h.Alert,{icon:(0,r.jsx)(g,{size:16}),color:"red",title:"오류",variant:"light",children:S}),(0,r.jsx)(p.Stack,{gap:"sm",children:(0,r.jsx)(v.TextInput,{label:"사용자명",id:"username",value:t,onChange:e=>a(e.currentTarget.value),required:!0,disabled:b})}),(0,r.jsx)(p.Stack,{gap:"sm",children:(0,r.jsx)(v.TextInput,{label:"비밀번호",id:"password",type:"password",value:o,onChange:e=>x(e.currentTarget.value),required:!0,disabled:b})}),(0,r.jsx)(m.Button,{type:"submit",disabled:b,fullWidth:!0,variant:"filled",children:b?"로그인 중...":"로그인"})]}),(0,r.jsx)(s.Center,{mt:"xl",children:(0,r.jsx)(i(),{href:"/",style:{textDecoration:"none"},children:(0,r.jsx)(u.Text,{size:"sm",c:"dimmed",children:"← 돌아가기"})})})]})})}},37621:(e,t,a)=>{"use strict";a.d(t,{ZQ:()=>l,_H:()=>o,bG:()=>i,nq:()=>s});let r=a(95704).env.NEXT_PUBLIC_API_URL||"http://localhost:8080";async function n(e,t,a,n){let l={"Content-Type":"application/json"};n&&(l.Authorization="Bearer ".concat(n));let o={method:e,headers:l};a&&("POST"===e||"PUT"===e)&&(o.body=JSON.stringify(a));let i=await fetch("".concat(r).concat(t),o);if(!i.ok)throw Error((await i.json().catch(()=>({error:"HTTP ".concat(i.status)}))).error||"API request failed");let s=await i.text();if(s)return JSON.parse(s)}let l={login:e=>n("POST","/api/auth/login",e),register:e=>n("POST","/api/auth/register",e)},o={list:e=>{let t=new URLSearchParams;(null==e?void 0:e.status)&&t.append("status",e.status),(null==e?void 0:e.novel_type)&&t.append("novel_type",e.novel_type),(null==e?void 0:e.genre)&&t.append("genre",e.genre),(null==e?void 0:e.limit)&&t.append("limit",e.limit.toString()),(null==e?void 0:e.offset)&&t.append("offset",e.offset.toString()),(null==e?void 0:e.include_drafts)&&t.append("include_drafts","true");let a=t.toString();return n("GET","/api/novels".concat(a?"?".concat(a):""))},getBySlug:e=>n("GET","/api/novels/".concat(e)),create:(e,t)=>n("POST","/api/novels",e,t),update:(e,t,a)=>n("PUT","/api/novels/".concat(e),t,a),delete:(e,t)=>n("DELETE","/api/novels/".concat(e),void 0,t),getGenres:()=>n("GET","/api/novels/genres"),getNovelTypes:()=>n("GET","/api/novels/types"),getRelations:e=>n("GET","/api/novels/".concat(e,"/relations")),addRelation:(e,t,a)=>n("POST","/api/novels/".concat(e,"/relations"),t,a),removeRelation:(e,t,a)=>n("DELETE","/api/novels/".concat(e,"/relations?related_slug=").concat(t),void 0,a),getChapters:e=>n("GET","/api/novels/".concat(e,"/chapters")),getChapter:(e,t)=>n("GET","/api/novels/".concat(e,"/chapters/").concat(t)),createChapter:(e,t,a)=>n("POST","/api/novels/".concat(e,"/chapters"),t,a),updateChapter:(e,t,a,r)=>n("PUT","/api/novels/".concat(e,"/chapters/").concat(t),a,r),deleteChapter:(e,t,a)=>n("DELETE","/api/novels/".concat(e,"/chapters/").concat(t),void 0,a)},i={list:e=>{let t=new URLSearchParams;(null==e?void 0:e.published)!==void 0&&t.append("published",e.published.toString()),(null==e?void 0:e.limit)&&t.append("limit",e.limit.toString()),(null==e?void 0:e.offset)&&t.append("offset",e.offset.toString());let a=t.toString();return n("GET","/api/blog".concat(a?"?".concat(a):""))},getBySlug:e=>n("GET","/api/blog/".concat(e)),create:(e,t)=>n("POST","/api/blog",e,t),update:(e,t,a)=>n("PUT","/api/blog/".concat(e),t,a),delete:(e,t)=>n("DELETE","/api/blog/".concat(e),void 0,t)},s={list:e=>{let t=new URLSearchParams;(null==e?void 0:e.platform)&&t.append("platform",e.platform),(null==e?void 0:e.limit)&&t.append("limit",e.limit.toString()),(null==e?void 0:e.offset)&&t.append("offset",e.offset.toString());let a=t.toString();return n("GET","/api/apps".concat(a?"?".concat(a):""))},getBySlug:e=>n("GET","/api/apps/".concat(e)),getPlatforms:()=>n("GET","/api/apps/platforms"),getChannels:()=>n("GET","/api/apps/channels"),create:(e,t)=>n("POST","/api/apps",e,t),update:(e,t,a)=>n("PUT","/api/apps/".concat(e),t,a),delete:(e,t)=>n("DELETE","/api/apps/".concat(e),void 0,t)}},40387:(e,t,a)=>{"use strict";a.d(t,{Center:()=>c});var r=a(95155);a(12115);var n=a(23653),l=a(39398),o=a(67623),i=a(24454),s={root:"m_4451eb3a"};let c=(0,i.polymorphicFactory)((e,t)=>{let a=(0,n.useProps)("Center",null,e),{classNames:i,className:c,style:d,styles:p,unstyled:u,vars:h,inline:v,mod:m,attributes:g,...f}=a,x=(0,l.useStyles)({name:"Center",props:a,classes:s,className:c,style:d,classNames:i,styles:p,unstyled:u,attributes:g,vars:h});return(0,r.jsx)(o.Box,{ref:t,mod:[{inline:v},m],...x("root"),...f})});c.classes=s,c.displayName="@mantine/core/Center"},41970:(e,t,a)=>{"use strict";a.d(t,{Alert:()=>v});var r=a(95155),n=a(8893);a(12115);var l=a(49957),o=a(80533),i=a(23653),s=a(39398),c=a(67623),d=a(91853),p=a(76167),u={root:"m_66836ed3",wrapper:"m_a5d60502",body:"m_667c2793",title:"m_6a03f287",label:"m_698f4f23",icon:"m_667f2a6a",message:"m_7fa78076",closeButton:"m_87f54839"};let h=(0,o.createVarsResolver)((e,t)=>{let{radius:a,color:r,variant:n,autoContrast:o}=t,i=e.variantColorResolver({color:r||e.primaryColor,theme:e,variant:n||"light",autoContrast:o});return{root:{"--alert-radius":void 0===a?void 0:(0,l.getRadius)(a),"--alert-bg":r||n?i.background:void 0,"--alert-color":i.color,"--alert-bd":r||n?i.border:void 0}}}),v=(0,d.factory)((e,t)=>{let a=(0,i.useProps)("Alert",null,e),{classNames:l,className:o,style:d,styles:v,unstyled:m,vars:g,radius:f,color:x,title:S,children:T,id:b,icon:y,withCloseButton:E,onClose:w,closeButtonLabel:j,variant:P,autoContrast:_,role:C,attributes:k,...B}=a,I=(0,s.useStyles)({name:"Alert",classes:u,props:a,className:o,style:d,classNames:l,styles:v,unstyled:m,attributes:k,vars:g,varsResolver:h}),G=(0,n.useId)(b),R=S&&"".concat(G,"-title")||void 0,A="".concat(G,"-body");return(0,r.jsx)(c.Box,{id:G,...I("root",{variant:P}),variant:P,ref:t,role:C||"alert",...B,"aria-describedby":T?A:void 0,"aria-labelledby":S?R:void 0,children:(0,r.jsxs)("div",{...I("wrapper"),children:[y&&(0,r.jsx)("div",{...I("icon"),children:y}),(0,r.jsxs)("div",{...I("body"),children:[S&&(0,r.jsx)("div",{...I("title"),"data-with-close-button":E||void 0,children:(0,r.jsx)("span",{id:R,...I("label"),children:S})}),T&&(0,r.jsx)("div",{id:A,...I("message"),"data-variant":P,children:T})]}),E&&(0,r.jsx)(p.CloseButton,{...I("closeButton"),onClick:w,variant:"transparent",size:16,iconSize:16,"aria-label":j,unstyled:m})]})})});v.classes=u,v.displayName="@mantine/core/Alert"},60688:(e,t,a)=>{"use strict";a.d(t,{TextInput:()=>i});var r=a(95155);a(12115);var n=a(23653),l=a(91853),o=a(64256);let i=(0,l.factory)((e,t)=>{let a=(0,n.useProps)("TextInput",null,e);return(0,r.jsx)(o.InputBase,{component:"input",ref:t,...a,__staticSelector:"TextInput"})});i.classes=o.InputBase.classes,i.displayName="@mantine/core/TextInput"},70685:(e,t,a)=>{Promise.resolve().then(a.bind(a,35127))}},e=>{e.O(0,[641,6778,4256,2619,8441,1255,7358],()=>e(e.s=70685)),_N_E=e.O()}]);