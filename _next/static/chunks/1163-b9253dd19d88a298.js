"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1163],{8918:(e,t,a)=>{a.d(t,{A:()=>o});var n=a(95155),r=a(67909),l=a(12115);a(84876),a(70117);let i=(0,r.default)(()=>Promise.all([a.e(1563),a.e(2141),a.e(6333)]).then(a.bind(a,36333)),{loadableGenerated:{webpack:()=>[null]},ssr:!1});function o(e){let{value:t,onChange:a,placeholder:r="마크다운으로 작성하세요...",height:o=400,minHeight:s=300}=e,[c,d]=(0,l.useState)("live");return(0,n.jsxs)("div",{className:"markdown-editor-wrapper","data-color-mode":"dark",children:[(0,n.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,n.jsx)("button",{type:"button",onClick:()=>d("edit"),className:"px-3 py-1 text-sm rounded transition-colors ".concat("edit"===c?"bg-neutral-700 text-white":"bg-neutral-900 text-neutral-400 hover:text-white"),children:"편집"}),(0,n.jsx)("button",{type:"button",onClick:()=>d("live"),className:"px-3 py-1 text-sm rounded transition-colors ".concat("live"===c?"bg-neutral-700 text-white":"bg-neutral-900 text-neutral-400 hover:text-white"),children:"실시간"}),(0,n.jsx)("button",{type:"button",onClick:()=>d("preview"),className:"px-3 py-1 text-sm rounded transition-colors ".concat("preview"===c?"bg-neutral-700 text-white":"bg-neutral-900 text-neutral-400 hover:text-white"),children:"미리보기"})]}),(0,n.jsx)(i,{value:t,onChange:e=>a(e||""),preview:c,height:o,minHeight:s,textareaProps:{placeholder:r},style:{backgroundColor:"#171717",borderRadius:"0.5rem"},previewOptions:{style:{backgroundColor:"#171717"}}}),(0,n.jsx)("p",{className:"text-neutral-600 text-xs mt-2",children:"마크다운 문법을 지원합니다. # 제목, **굵게**, *기울임*, `코드`, [링크](url) 등"})]})}},26203:(e,t,a)=>{a.d(t,{oq:()=>c,$n:()=>o});var n=a(95155),r=a(52619),l=a.n(r),i=a(96778);function o(e){let{children:t,onClick:a,href:r,variant:o="primary",size:s="md",disabled:c=!1,loading:d=!1,className:p="",type:u="button",icon:h,...g}=e,{color:m,variant:v}=(e=>{switch(e){case"primary":default:return{color:"blue",variant:"filled"};case"secondary":return{color:"gray",variant:"filled"};case"success":return{color:"green",variant:"filled"};case"danger":return{color:"red",variant:"filled"};case"warning":return{color:"yellow",variant:"filled"};case"outline":return{color:"gray",variant:"outline"}}})(o),f={onClick:a,disabled:c||d,loading:d,size:s,color:m,variant:v,className:p,"aria-label":g["aria-label"],"aria-describedby":g["aria-describedby"],leftSection:h?(0,n.jsx)(h,{size:16,"aria-hidden":"true"}):void 0,...g};return r?(0,n.jsx)(i.Button,{component:l(),href:r,...f,children:t}):(0,n.jsx)(i.Button,{type:u,...f,children:t})}a(12115),a(86237),a(8918),a(64118),a(896),a(35864);var s=a(35626);function c(e){let{href:t="/",label:a="돌아가기",...r}=e;return(0,n.jsx)(i.Button,{component:l(),href:t,variant:"subtle",size:"sm",leftSection:(0,n.jsx)(s.A,{size:16}),mb:"lg",style:{alignSelf:"flex-start"},...r,children:a})}},37621:(e,t,a)=>{a.d(t,{ZQ:()=>l,_H:()=>i,bG:()=>o,nq:()=>s});let n=a(95704).env.NEXT_PUBLIC_API_URL||"http://localhost:8080";async function r(e,t,a,r){let l={"Content-Type":"application/json"};r&&(l.Authorization="Bearer ".concat(r));let i={method:e,headers:l};a&&("POST"===e||"PUT"===e)&&(i.body=JSON.stringify(a));let o=await fetch("".concat(n).concat(t),i);if(!o.ok)throw Error((await o.json().catch(()=>({error:"HTTP ".concat(o.status)}))).error||"API request failed");let s=await o.text();if(s)return JSON.parse(s)}let l={login:e=>r("POST","/api/auth/login",e),register:e=>r("POST","/api/auth/register",e)},i={list:e=>{let t=new URLSearchParams;(null==e?void 0:e.status)&&t.append("status",e.status),(null==e?void 0:e.novel_type)&&t.append("novel_type",e.novel_type),(null==e?void 0:e.genre)&&t.append("genre",e.genre),(null==e?void 0:e.limit)&&t.append("limit",e.limit.toString()),(null==e?void 0:e.offset)&&t.append("offset",e.offset.toString()),(null==e?void 0:e.include_drafts)&&t.append("include_drafts","true");let a=t.toString();return r("GET","/api/novels".concat(a?"?".concat(a):""))},getBySlug:e=>r("GET","/api/novels/".concat(e)),create:(e,t)=>r("POST","/api/novels",e,t),update:(e,t,a)=>r("PUT","/api/novels/".concat(e),t,a),delete:(e,t)=>r("DELETE","/api/novels/".concat(e),void 0,t),getGenres:()=>r("GET","/api/novels/genres"),getNovelTypes:()=>r("GET","/api/novels/types"),getRelations:e=>r("GET","/api/novels/".concat(e,"/relations")),addRelation:(e,t,a)=>r("POST","/api/novels/".concat(e,"/relations"),t,a),removeRelation:(e,t,a)=>r("DELETE","/api/novels/".concat(e,"/relations?related_slug=").concat(t),void 0,a),getChapters:e=>r("GET","/api/novels/".concat(e,"/chapters")),getChapter:(e,t)=>r("GET","/api/novels/".concat(e,"/chapters/").concat(t)),createChapter:(e,t,a)=>r("POST","/api/novels/".concat(e,"/chapters"),t,a),updateChapter:(e,t,a,n)=>r("PUT","/api/novels/".concat(e,"/chapters/").concat(t),a,n),deleteChapter:(e,t,a)=>r("DELETE","/api/novels/".concat(e,"/chapters/").concat(t),void 0,a)},o={list:e=>{let t=new URLSearchParams;(null==e?void 0:e.published)!==void 0&&t.append("published",e.published.toString()),(null==e?void 0:e.limit)&&t.append("limit",e.limit.toString()),(null==e?void 0:e.offset)&&t.append("offset",e.offset.toString());let a=t.toString();return r("GET","/api/blog".concat(a?"?".concat(a):""))},getBySlug:e=>r("GET","/api/blog/".concat(e)),create:(e,t)=>r("POST","/api/blog",e,t),update:(e,t,a)=>r("PUT","/api/blog/".concat(e),t,a),delete:(e,t)=>r("DELETE","/api/blog/".concat(e),void 0,t)},s={list:e=>{let t=new URLSearchParams;(null==e?void 0:e.platform)&&t.append("platform",e.platform),(null==e?void 0:e.limit)&&t.append("limit",e.limit.toString()),(null==e?void 0:e.offset)&&t.append("offset",e.offset.toString());let a=t.toString();return r("GET","/api/apps".concat(a?"?".concat(a):""))},getBySlug:e=>r("GET","/api/apps/".concat(e)),getPlatforms:()=>r("GET","/api/apps/platforms"),getChannels:()=>r("GET","/api/apps/channels"),create:(e,t)=>r("POST","/api/apps",e,t),update:(e,t,a)=>r("PUT","/api/apps/".concat(e),t,a),delete:(e,t)=>r("DELETE","/api/apps/".concat(e),void 0,t)}},64118:(e,t,a)=>{a.d(t,{A:()=>l});var n=a(95155),r=a(76503);function l(e){let{tags:t,onChange:a,placeholder:l="태그 입력 후 Enter",maxTags:i=10}=e;return(0,n.jsx)(r.TagsInput,{value:t,onChange:a,placeholder:0===t.length?l:"",maxTags:i,description:"Enter 키로 태그 추가, Backspace로 삭제 (".concat(t.length,"/").concat(i,")"),clearable:!0,splitChars:[","," ","Enter"],acceptValueOnBlur:!0,classNames:{input:"dark:bg-neutral-900 dark:border-neutral-800"}})}},86237:(e,t,a)=>{a.d(t,{A:()=>m});var n=a(95155),r=a(52619),l=a.n(r),i=a(20063),o=a(12115),s=a(13877),c=a(63090),d=a(70305),p=a(75802),u=a(67661),h=a(96778),g=a(74264);function m(e){let{children:t,title:a,backHref:r="/admin/dashboard",backLabel:m="← 대시보드",onBack:v}=e,f=(0,i.useRouter)(),[x,b]=(0,o.useState)(null),[T,y]=(0,o.useState)(!0);return((0,o.useEffect)(()=>{let e=localStorage.getItem("admin_token"),t=localStorage.getItem("admin_user");if(!e||!t)return void f.push("/admin/login/");b(JSON.parse(t)),y(!1)},[f]),T)?(0,n.jsxs)(s.Container,{h:"100vh",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,n.jsx)(c.Loader,{color:"gray",size:"sm"}),(0,n.jsx)(d.Text,{size:"sm",c:"dimmed",ml:"sm",children:"로딩 중..."})]}):(0,n.jsx)(p.AppShell,{header:{height:0},padding:"md",children:(0,n.jsxs)(s.Container,{size:"sm",py:"xl",children:[(0,n.jsxs)("header",{style:{marginBottom:"var(--mantine-spacing-xl)"},children:[(0,n.jsxs)(u.Group,{justify:"space-between",mb:"lg",children:[v?(0,n.jsx)(h.Button,{variant:"subtle",color:"gray",size:"sm",onClick:v,children:m}):(0,n.jsx)(h.Button,{component:l(),href:r,variant:"subtle",color:"gray",size:"sm",children:m}),(0,n.jsxs)(u.Group,{gap:"md",children:[(0,n.jsx)(d.Text,{size:"sm",c:"dimmed",children:null==x?void 0:x.username}),(0,n.jsx)(h.Button,{variant:"subtle",color:"gray",size:"sm",onClick:()=>{localStorage.removeItem("admin_token"),localStorage.removeItem("admin_user"),f.push("/admin/login/")},children:"로그아웃"})]})]}),(0,n.jsx)(g.Title,{order:1,fw:300,size:"h2",children:a})]}),(0,n.jsx)("main",{children:t})]})})}}}]);